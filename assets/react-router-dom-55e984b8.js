import{r as c}from"./react-5cc2acaa.js";import{s as y,R as E,N as x,u as O,a as P,b as B,c as j}from"./react-router-c19bb71d.js";import{c as K,s as _,b}from"./@remix-run-6932b7e6.js";/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m.apply(this,arguments)}function F(e,t){if(e==null)return{};var a={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(a[i]=e[i]);return a}function I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T(e,t){return e.button===0&&(!t||t==="_self")&&!I(e)}const H=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function M(e){let{basename:t,children:a,future:r,window:i}=e,o=c.useRef();o.current==null&&(o.current=K({window:i,v5Compat:!0}));let s=o.current,[u,l]=c.useState({action:s.action,location:s.location}),{v7_startTransition:n}=r||{},f=c.useCallback(d=>{n&&y?y(()=>l(d)):l(d)},[l,n]);return c.useLayoutEffect(()=>s.listen(f),[s,f]),c.createElement(E,{basename:t,children:a,location:u.location,navigationType:u.action,navigator:s})}const N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X=c.forwardRef(function(t,a){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:u,target:l,to:n,preventScrollReset:f}=t,d=F(t,H),{basename:k}=c.useContext(x),g,v=!1;if(typeof n=="string"&&W.test(n)&&(g=n,N))try{let p=new URL(window.location.href),h=n.startsWith("//")?new URL(p.protocol+n):new URL(n),R=_(h.pathname,k);h.origin===p.origin&&R!=null?n=R+h.search+h.hash:v=!0}catch{}let C=O(n,{relative:i}),S=z(n,{replace:s,state:u,target:l,preventScrollReset:f,relative:i});function U(p){r&&r(p),p.defaultPrevented||S(p)}return c.createElement("a",m({},d,{href:g||C,onClick:v||o?r:U,ref:a,target:l}))});var w;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(w||(w={}));var L;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(L||(L={}));function z(e,t){let{target:a,replace:r,state:i,preventScrollReset:o,relative:s}=t===void 0?{}:t,u=P(),l=B(),n=j(e,{relative:s});return c.useCallback(f=>{if(T(f,a)){f.preventDefault();let d=r!==void 0?r:b(l)===b(n);u(e,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,u,n,r,i,a,e,o,s])}export{M as B,X as L};
