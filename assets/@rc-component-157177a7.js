import{d,c as z}from"./@babel-54babf39.js";import{r as n}from"./react-5cc2acaa.js";import{r as A}from"./react-dom-8c50371c.js";import{c as _,b as g,g as B,u as M,r as D,s as O,d as W}from"./rc-util-b2eff611.js";import"./classnames-5c20d0be.js";import"./rc-motion-5b294f1b.js";import"./rc-resize-observer-aa439b37.js";var q=n.createContext(null),P=[];function N(e,t){var u=n.useState(function(){if(!_())return null;var a=document.createElement("div");return a}),s=d(u,1),r=s[0],o=n.useRef(!1),c=n.useContext(q),i=n.useState(P),m=d(i,2),l=m[0],S=m[1],h=c||(o.current?void 0:function(a){S(function(f){var y=[a].concat(z(f));return y})});function v(){r.parentElement||document.body.appendChild(r),o.current=!0}function p(){var a;(a=r.parentElement)===null||a===void 0||a.removeChild(r),o.current=!1}return g(function(){return e?c?c(v):v():p(),p},[e]),g(function(){l.length&&(l.forEach(function(a){return a()}),S(P))},[l]),[r,h]}function Y(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var j="rc-util-locker-".concat(Date.now()),k=0;function F(e){var t=!!e,u=n.useState(function(){return k+=1,"".concat(j,"_").concat(k)}),s=d(u,1),r=s[0];g(function(){if(t){var o=B(),c=Y();M(`
html body {
  overflow-y: hidden;
  `.concat(c?"width: calc(100% - ".concat(o,"px);"):"",`
}`),r)}else D(r);return function(){D(r)}},[t,r])}var x=!1;function G(e){return typeof e=="boolean"&&(x=e),x}var L=function(t){return t===!1?!1:!_()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},re=n.forwardRef(function(e,t){var u=e.open,s=e.autoLock,r=e.getContainer;e.debug;var o=e.autoDestroy,c=o===void 0?!0:o,i=e.children,m=n.useState(u),l=d(m,2),S=l[0],h=l[1],v=S||u;n.useEffect(function(){(c||u)&&h(u)},[u,c]);var p=n.useState(function(){return L(r)}),a=d(p,2),f=a[0],y=a[1];n.useEffect(function(){var E=L(r);y(E??null)});var I=N(v&&!f),$=d(I,2),b=$[0],Q=$[1],R=f??b;F(s&&u&&_()&&(R===b||R===document.body));var w=null;if(i&&O(i)&&t){var H=i;w=H.ref}var T=W(w,t);if(!v||!_()||f===void 0)return null;var U=R===!1||G(),C=i;return t&&(C=n.cloneElement(i,{ref:T})),n.createElement(q.Provider,{value:Q},U?C:A.createPortal(C,R))});export{re as P};
